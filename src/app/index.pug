doctype html
html(lang="ru" class=`${mode}`)
    head
        meta(name="viewport" content="width=device-width")
        meta(http-equiv="Content-Type" content="text/html; charset=utf-8")
        meta(name="theme-color" content="#131313")
        meta(name="description" content="functional/reactive boilerplate")
        | !{title}
        | !{meta}
        link(rel="manifest" href="/manifest.json")
        link(rel="apple-touch-icon" sizes="128x128" href="public/images/logo128x128.png")
		link(rel="preconnect" href="https://fonts.googleapis.com")
		link(rel="preconnect" href="https://fonts.gstatic.com" crossorigin)
		link(href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600&family=Viga&display=swap" rel="stylesheet")
        script#prefers-scheme(type="text/javascript").
            (function () {
                const darkModeQuery = window.matchMedia('(prefers-color-scheme: dark)')

                const currentTheme = document.documentElement.dataset.theme;

                if (currentTheme !== 'dark' && darkModeQuery.matches) {
                    document.documentElement.dataset.theme = 'dark';
                }
            })();
        style(id="critical-css-path")
            | !{criticalCss}
        | !{styleChunksTags}
        | !{styleComponentsTags}
    body
        #root
            | !{html}
        #modal
        script#ssr-store
            | !{storage}
        script#initial-props
            | !{initialProps}
        | !{scriptTags}
